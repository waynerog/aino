{"ast":null,"code":"import _objectSpread from \"/Users/r.afif/Documents/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/r.afif/Documents/ecommerce/src/components/Pagination/Pagination.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { goPage, nextPage, prevPage } from \"../../actions\";\n\nclass Pagination extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onPrev = () => {\n      this.props.onPrevPage();\n    };\n\n    this.onNext = () => {\n      this.props.onNextPage();\n    };\n\n    this.getPages = () => {\n      const c = Math.ceil(this.props.totalItemsCount / this.props.perPage);\n      const p = this.props.currentPage || 1;\n      const pagesToShow = this.props.pagesToShow || 9;\n      const pages = [];\n      pages.push(p);\n      const times = pagesToShow - 1;\n\n      for (let i = 0; i < times; i++) {\n        if (pages.length < pagesToShow) {\n          if (Math.min.apply(null, pages) > 1) {\n            pages.push(Math.min.apply(null, pages) - 1);\n          }\n        }\n\n        if (pages.length < pagesToShow) {\n          if (Math.max.apply(null, pages) < c) {\n            pages.push(Math.max.apply(null, pages) + 1);\n          }\n        }\n      }\n\n      pages.sort((a, b) => a - b);\n      return pages;\n    };\n  }\n\n  onPage(n) {\n    this.props.onGoPage(n);\n  }\n\n  isOnLastPage() {\n    // console.log(this.props.perPage * this.props.currentPage, this.props.totalItemsCount);\n    return this.props.perPage * this.props.currentPage >= this.props.totalItemsCount;\n  }\n\n  totalPages() {\n    return Math.ceil(this.props.totalItemsCount / this.props.perPage) || 0;\n  }\n\n  getMin() {\n    return this.props.perPage * this.props.currentPage - this.props.perPage + 1;\n  }\n\n  getMax() {\n    let max = this.props.perPage * this.props.currentPage;\n\n    if (max > this.props.totalItemsCount) {\n      max = this.props.totalItemsCount;\n    }\n\n    return max;\n  }\n\n  render() {\n    console.log(this.props);\n    const pages = this.getPages().map(pageNum => {\n      let buttonClass = 'page-item';\n\n      if (pageNum === this.props.currentPage) {\n        buttonClass += ' active';\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: buttonClass,\n        onClick: () => {\n          this.onPage(pageNum);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"page-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 88\n        }\n      }, pageNum));\n    });\n    let prevButtonClass = 'page-item';\n\n    if (this.props.currentPage === 1) {\n      prevButtonClass += ' disabled';\n    }\n\n    const prevButton = /*#__PURE__*/React.createElement(\"li\", {\n      className: prevButtonClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"page-link\",\n      onClick: this.onPrev,\n      tabIndex: \"-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Previous\"));\n    let nextButtonClass = 'page-item';\n\n    if (this.isOnLastPage()) {\n      nextButtonClass += ' disabled';\n    }\n\n    const nextButton = /*#__PURE__*/React.createElement(\"li\", {\n      className: nextButtonClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.isOnLastPage(),\n      className: \"page-link\",\n      onClick: this.onNext,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Next\"));\n    return /*#__PURE__*/React.createElement(\"nav\", {\n      \"aria-label\": \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, prevButton, pages, nextButton));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return _objectSpread({}, state.pagination, {\n    totalItemsCount: state.shop.products.length\n  });\n};\n\nexport default Pagination;","map":{"version":3,"sources":["/Users/r.afif/Documents/ecommerce/src/components/Pagination/Pagination.js"],"names":["React","Component","connect","goPage","nextPage","prevPage","Pagination","onPrev","props","onPrevPage","onNext","onNextPage","getPages","c","Math","ceil","totalItemsCount","perPage","p","currentPage","pagesToShow","pages","push","times","i","length","min","apply","max","sort","a","b","onPage","n","onGoPage","isOnLastPage","totalPages","getMin","getMax","render","console","log","map","pageNum","buttonClass","prevButtonClass","prevButton","nextButtonClass","nextButton","mapStateToProps","state","pagination","shop","products"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\nimport {goPage, nextPage, prevPage} from \"../../actions\";\n\nclass Pagination extends Component {\n\n\n    onPage(n){\n        this.props.onGoPage(n);\n    }\n\n    isOnLastPage(){\n        // console.log(this.props.perPage * this.props.currentPage, this.props.totalItemsCount);\n        return this.props.perPage * this.props.currentPage >= this.props.totalItemsCount;\n    }\n\n    totalPages() {\n        return Math.ceil(this.props.totalItemsCount / this.props.perPage) || 0;\n    }\n\n    getMin(){\n        return ((this.props.perPage * this.props.currentPage) - this.props.perPage) + 1;\n    }\n\n    getMax() {\n        let max = this.props.perPage * this.props.currentPage;\n        if (max > this.props.totalItemsCount) {\n            max = this.props.totalItemsCount;\n        }\n        return max;\n    }\n    onPrev = () => {\n        this.props.onPrevPage();\n    }\n\n    onNext = () =>  {\n        this.props.onNextPage();\n    }\n\n\n    getPages = () => {\n        const c = Math.ceil(this.props.totalItemsCount / this.props.perPage);\n        const p = this.props.currentPage || 1;\n        const pagesToShow = this.props.pagesToShow || 9;\n        const pages = [];\n        pages.push(p);\n        const times = pagesToShow - 1;\n        for (let i = 0; i < times; i++) {\n            if (pages.length < pagesToShow) {\n                if (Math.min.apply(null, pages) > 1) {\n                    pages.push(Math.min.apply(null, pages) - 1);\n                }\n            }\n            if (pages.length < pagesToShow) {\n                if (Math.max.apply(null, pages) < c) {\n                    pages.push(Math.max.apply(null, pages) + 1);\n                }\n            }\n        }\n        pages.sort((a, b) => a - b);\n        return pages;\n    }\n\n\n\n\n    render() {\n\n        console.log(this.props);\n\n        const pages =this.getPages().map(pageNum => {\n\n            let buttonClass = 'page-item';\n\n            if(pageNum === this.props.currentPage) {\n                buttonClass += ' active';\n            }\n\n            return (<li className={buttonClass} onClick={() => {this.onPage(pageNum)}}><button className=\"page-link\" >{pageNum}</button></li>);\n        });\n\n        let prevButtonClass = 'page-item';\n\n        if (this.props.currentPage === 1) {\n            prevButtonClass += ' disabled';\n        }\n\n        const prevButton = (<li className={prevButtonClass}>\n            <button\n                className=\"page-link\" onClick={this.onPrev} tabIndex=\"-1\">Previous</button>\n        </li>);\n\n        let nextButtonClass = 'page-item';\n\n        if(this.isOnLastPage()) {\n            nextButtonClass += ' disabled';\n        }\n\n        const nextButton = (\n            <li className={nextButtonClass}>\n                <button\n                    disabled={this.isOnLastPage()}\n                    className=\"page-link\" onClick={this.onNext}>Next</button>\n            </li>\n        );\n\n\n\n        return (\n            <nav aria-label=\"...\">\n                <ul className=\"pagination\">\n                    {prevButton}\n                    {pages}\n                    {nextButton}\n                </ul>\n            </nav>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.pagination,\n        totalItemsCount: state.shop.products.length,\n    }\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}