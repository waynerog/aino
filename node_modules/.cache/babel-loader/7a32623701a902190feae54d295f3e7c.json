{"ast":null,"code":"import _objectSpread from \"/Users/r.afif/Documents/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { ADD_PRODUCT_TO_CART, DECREMENT_CART_ITEM_QUANTITY, INCREMENT_CART_ITEM_QUANTITY, REMOVE_PRODUCT_FROM_CART } from '../actions';\nimport { phones } from \"../data/phones\";\nconst initialState = {\n  products: phones,\n  cart: []\n};\n\nconst shopReducer = (state = initialState, action) => {\n  let updatedCart;\n  let updatedItemIndex;\n\n  switch (action.type) {\n    case INCREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n\n      const incrementedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n      incrementedItem.quantity++;\n      updatedCart[updatedItemIndex] = incrementedItem;\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case DECREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n\n      const decrementedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n      decrementedItem.quantity--;\n      updatedCart[updatedItemIndex] = decrementedItem;\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push(_objectSpread({}, action.payload, {\n          quantity: 1\n        }));\n      } else {\n        const updatedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      updatedCart.splice(updatedItemIndex, 1);\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/r.afif/Documents/ecommerce/src/reducers/shop.reducer.js"],"names":["ADD_PRODUCT_TO_CART","DECREMENT_CART_ITEM_QUANTITY","INCREMENT_CART_ITEM_QUANTITY","REMOVE_PRODUCT_FROM_CART","phones","initialState","products","cart","shopReducer","state","action","updatedCart","updatedItemIndex","type","findIndex","item","id","payload","incrementedItem","quantity","decrementedItem","push","updatedItem","splice"],"mappings":";AAAA,SACIA,mBADJ,EAEIC,4BAFJ,EAGIC,4BAHJ,EAIIC,wBAJJ,QAKO,YALP;AAMA,SAAQC,MAAR,QAAqB,gBAArB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAEF,MADO;AAEjBG,EAAAA,IAAI,EAAE;AAFW,CAArB;;AAMA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAmC;AACnD,MAAIC,WAAJ;AACA,MAAIC,gBAAJ;;AAEA,UAAQF,MAAM,CAACG,IAAf;AACI,SAAKX,4BAAL;AACIS,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;;AAIA,YAAMC,eAAe,qBACdP,WAAW,CAACC,gBAAD,CADG,CAArB;;AAIAM,MAAAA,eAAe,CAACC,QAAhB;AAEAR,MAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCM,eAAhC;AAGA,+BAAWT,KAAX;AAAkBF,QAAAA,IAAI,EAAEI;AAAxB;;AAEJ,SAAKV,4BAAL;AACIU,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;;AAIA,YAAMG,eAAe,qBACdT,WAAW,CAACC,gBAAD,CADG,CAArB;;AAIAQ,MAAAA,eAAe,CAACD,QAAhB;AAEAR,MAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCQ,eAAhC;AAEA,+BAAWX,KAAX;AAAkBF,QAAAA,IAAI,EAAEI;AAAxB;;AAEJ,SAAKX,mBAAL;AACIW,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CAAsBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OAAP,CAAeD,EAAzD,CAAnB;;AAEA,UAAGJ,gBAAgB,GAAG,CAAtB,EAAyB;AACrBD,QAAAA,WAAW,CAACU,IAAZ,mBAAqBX,MAAM,CAACO,OAA5B;AAAqCE,UAAAA,QAAQ,EAAE;AAA/C;AACH,OAFD,MAEO;AACH,cAAMG,WAAW,qBACVX,WAAW,CAACC,gBAAD,CADD,CAAjB;;AAIAU,QAAAA,WAAW,CAACH,QAAZ;AACAR,QAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCU,WAAhC;AACH;;AAED,+BAAWb,KAAX;AAAkBF,QAAAA,IAAI,EAAEI;AAAxB;;AACJ,SAAKR,wBAAL;AACIQ,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;AAIAN,MAAAA,WAAW,CAACY,MAAZ,CAAmBX,gBAAnB,EAAqC,CAArC;AAEA,+BAAWH,KAAX;AAAkBF,QAAAA,IAAI,EAAEI;AAAxB;;AACJ;AACI,aAAOF,KAAP;AA5DR;AA+DH,CAnED;;AAqEA,eAAeD,WAAf","sourcesContent":["import {\n    ADD_PRODUCT_TO_CART,\n    DECREMENT_CART_ITEM_QUANTITY,\n    INCREMENT_CART_ITEM_QUANTITY,\n    REMOVE_PRODUCT_FROM_CART\n} from '../actions';\nimport {phones} from \"../data/phones\";\n\nconst initialState = {\n    products: phones,\n    cart: []\n};\n\n\nconst shopReducer = (state = initialState, action ) => {\n    let updatedCart;\n    let updatedItemIndex;\n\n    switch (action.type) {\n        case INCREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const incrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            incrementedItem.quantity++;\n\n            updatedCart[updatedItemIndex] = incrementedItem;\n\n\n            return {...state, cart: updatedCart};\n\n        case DECREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const decrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            decrementedItem.quantity--;\n\n            updatedCart[updatedItemIndex] = decrementedItem;\n\n            return {...state, cart: updatedCart};\n\n        case ADD_PRODUCT_TO_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n            if(updatedItemIndex < 0) {\n                updatedCart.push({...action.payload, quantity: 1});\n            } else {\n                const updatedItem = {\n                    ...updatedCart[updatedItemIndex]\n                };\n\n                updatedItem.quantity++;\n                updatedCart[updatedItemIndex] = updatedItem;\n            }\n\n            return {...state, cart: updatedCart};\n        case REMOVE_PRODUCT_FROM_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            updatedCart.splice(updatedItemIndex, 1);\n\n            return {...state, cart: updatedCart};\n        default:\n            return state;\n\n    }\n};\n\nexport default shopReducer;\n"]},"metadata":{},"sourceType":"module"}