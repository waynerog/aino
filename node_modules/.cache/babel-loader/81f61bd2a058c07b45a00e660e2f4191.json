{"ast":null,"code":"import _objectSpread from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/r.afif/Documents/aino/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/r.afif/Documents/aino/src/components/Pagination/Pagination.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { goPage, nextPage, prevPage } from \"../../actions\";\n\nvar Pagination =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pagination, _Component);\n\n  function Pagination() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Pagination)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onPrev = function () {\n      _this.props.onPrevPage();\n    };\n\n    _this.onNext = function () {\n      _this.props.onNextPage();\n    };\n\n    _this.getPages = function () {\n      var c = Math.ceil(_this.props.totalItemsCount / _this.props.perPage);\n      var p = _this.props.currentPage || 1;\n      var pagesToShow = _this.props.pagesToShow || 9;\n      var pages = [];\n      pages.push(p);\n      var times = pagesToShow - 1;\n\n      for (var i = 0; i < times; i++) {\n        if (pages.length < pagesToShow) {\n          if (Math.min.apply(null, pages) > 1) {\n            pages.push(Math.min.apply(null, pages) - 1);\n          }\n        }\n\n        if (pages.length < pagesToShow) {\n          if (Math.max.apply(null, pages) < c) {\n            pages.push(Math.max.apply(null, pages) + 1);\n          }\n        }\n      }\n\n      pages.sort(function (a, b) {\n        return a - b;\n      });\n      return pages;\n    };\n\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"onPage\",\n    value: function onPage(n) {\n      this.props.onGoPage(n);\n    }\n  }, {\n    key: \"isOnLastPage\",\n    value: function isOnLastPage() {\n      // console.log(this.props.perPage * this.props.currentPage, this.props.totalItemsCount);\n      return this.props.perPage * this.props.currentPage >= this.props.totalItemsCount;\n    }\n  }, {\n    key: \"totalPages\",\n    value: function totalPages() {\n      return Math.ceil(this.props.totalItemsCount / this.props.perPage) || 0;\n    }\n  }, {\n    key: \"getMin\",\n    value: function getMin() {\n      return this.props.perPage * this.props.currentPage - this.props.perPage + 1;\n    }\n  }, {\n    key: \"getMax\",\n    value: function getMax() {\n      var max = this.props.perPage * this.props.currentPage;\n\n      if (max > this.props.totalItemsCount) {\n        max = this.props.totalItemsCount;\n      }\n\n      return max;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.props);\n      var pages = this.getPages().map(function (pageNum) {\n        var buttonClass = 'page-item';\n\n        if (pageNum === _this2.props.currentPage) {\n          buttonClass += ' active';\n        }\n\n        return React.createElement(\"li\", {\n          className: buttonClass,\n          onClick: function onClick() {\n            _this2.onPage(pageNum);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"page-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, pageNum));\n      });\n      var prevButtonClass = 'page-item';\n\n      if (this.props.currentPage === 1) {\n        prevButtonClass += ' disabled';\n      }\n\n      var prevButton = React.createElement(\"li\", {\n        className: prevButtonClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"page-link\",\n        onClick: this.onPrev,\n        tabIndex: \"-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Previous\"));\n      var nextButtonClass = 'page-item';\n\n      if (this.isOnLastPage()) {\n        nextButtonClass += ' disabled';\n      }\n\n      var nextButton = React.createElement(\"li\", {\n        className: nextButtonClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: this.isOnLastPage(),\n        className: \"page-link\",\n        onClick: this.onNext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Next\"));\n      return React.createElement(\"nav\", {\n        \"aria-label\": \"...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, prevButton, pages, nextButton));\n    }\n  }]);\n\n  return Pagination;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return _objectSpread({}, state.pagination, {\n    totalItemsCount: state.shop.products.length\n  });\n};\n\nexport default Pagination;","map":{"version":3,"sources":["/Users/r.afif/Documents/aino/src/components/Pagination/Pagination.js"],"names":["React","Component","connect","goPage","nextPage","prevPage","Pagination","onPrev","props","onPrevPage","onNext","onNextPage","getPages","c","Math","ceil","totalItemsCount","perPage","p","currentPage","pagesToShow","pages","push","times","i","length","min","apply","max","sort","a","b","n","onGoPage","console","log","map","pageNum","buttonClass","onPage","prevButtonClass","prevButton","nextButtonClass","isOnLastPage","nextButton","mapStateToProps","state","pagination","shop","products"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\nimport {goPage, nextPage, prevPage} from \"../../actions\";\n\nclass Pagination extends Component {\n\n\n    onPage(n){\n        this.props.onGoPage(n);\n    }\n\n    isOnLastPage(){\n        // console.log(this.props.perPage * this.props.currentPage, this.props.totalItemsCount);\n        return this.props.perPage * this.props.currentPage >= this.props.totalItemsCount;\n    }\n\n    totalPages() {\n        return Math.ceil(this.props.totalItemsCount / this.props.perPage) || 0;\n    }\n\n    getMin(){\n        return ((this.props.perPage * this.props.currentPage) - this.props.perPage) + 1;\n    }\n\n    getMax() {\n        let max = this.props.perPage * this.props.currentPage;\n        if (max > this.props.totalItemsCount) {\n            max = this.props.totalItemsCount;\n        }\n        return max;\n    }\n    onPrev = () => {\n        this.props.onPrevPage();\n    }\n\n    onNext = () =>  {\n        this.props.onNextPage();\n    }\n\n\n    getPages = () => {\n        const c = Math.ceil(this.props.totalItemsCount / this.props.perPage);\n        const p = this.props.currentPage || 1;\n        const pagesToShow = this.props.pagesToShow || 9;\n        const pages = [];\n        pages.push(p);\n        const times = pagesToShow - 1;\n        for (let i = 0; i < times; i++) {\n            if (pages.length < pagesToShow) {\n                if (Math.min.apply(null, pages) > 1) {\n                    pages.push(Math.min.apply(null, pages) - 1);\n                }\n            }\n            if (pages.length < pagesToShow) {\n                if (Math.max.apply(null, pages) < c) {\n                    pages.push(Math.max.apply(null, pages) + 1);\n                }\n            }\n        }\n        pages.sort((a, b) => a - b);\n        return pages;\n    }\n\n\n\n\n    render() {\n\n        console.log(this.props);\n\n        const pages =this.getPages().map(pageNum => {\n\n            let buttonClass = 'page-item';\n\n            if(pageNum === this.props.currentPage) {\n                buttonClass += ' active';\n            }\n\n            return (<li className={buttonClass} onClick={() => {this.onPage(pageNum)}}><button className=\"page-link\" >{pageNum}</button></li>);\n        });\n\n        let prevButtonClass = 'page-item';\n\n        if (this.props.currentPage === 1) {\n            prevButtonClass += ' disabled';\n        }\n\n        const prevButton = (<li className={prevButtonClass}>\n            <button\n                className=\"page-link\" onClick={this.onPrev} tabIndex=\"-1\">Previous</button>\n        </li>);\n\n        let nextButtonClass = 'page-item';\n\n        if(this.isOnLastPage()) {\n            nextButtonClass += ' disabled';\n        }\n\n        const nextButton = (\n            <li className={nextButtonClass}>\n                <button\n                    disabled={this.isOnLastPage()}\n                    className=\"page-link\" onClick={this.onNext}>Next</button>\n            </li>\n        );\n\n\n\n        return (\n            <nav aria-label=\"...\">\n                <ul className=\"pagination\">\n                    {prevButton}\n                    {pages}\n                    {nextButton}\n                </ul>\n            </nav>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.pagination,\n        totalItemsCount: state.shop.products.length,\n    }\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}